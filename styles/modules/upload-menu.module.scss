@use "../import/variables";
@use "../import/mixins";

.overflow{
	@import "../import/overflow.module.scss";

	> .content{
		@media screen and (max-width: variables.$mobileSize){
			width: calc(100% - 20pt);
		}

		> section{
			align-items: flex-start;

			&.files{
				width: calc(100% - 8pt);

				.file{
					position: relative;
					display: flex;
					width: 100%;
					flex-direction: column;
					padding: 8pt 4pt;
					border-top: 1px solid var(--font-color);
					gap: 4pt;

					> .delete{
						@include mixins.userSelectNone;

						display: none;
						position: absolute;
						background-color: var(--remove-button);
						top: 4pt;
						right: 4pt;
						padding: 2pt;
						border-radius: 2pt;
						cursor: pointer;

						&:hover{
							filter: brightness(75%);
						}
					}

					&:hover > .delete{
						display: block;
					}

					p{
						display: grid;
						overflow-x: clip;
						grid-template-columns: 1fr clamp(20px, 60%, 600px);

						@media screen and (max-width: variables.$mobileSize){
							display: flex;
							flex-direction: row;
							flex-wrap: wrap;
							grid-template-columns: none;
							column-gap: 4pt;
						}

						span{
							&.label{
								flex: 1;
							}

							&.content{
								text-overflow: ellipsis;
								white-space: nowrap;
								overflow-x: clip;
							}
						}

						&:not(.checkbox) span.label{
							font-weight: 700;
						}

						&.name input,
						&.date input,
						&.type select{
							height: 20pt;
							padding: 0 4pt;
							border-radius: 4pt;
							cursor: pointer;
						}

						&.checkbox{
							label{
								@include mixins.userSelectNone;

								input{
									margin: 0 4pt;
								}
							}
						}

						&.error{
							display: block;
							color: var(--error-color);
							text-align: center;
							font-weight: normal;
							font-family: Segoe UI, Verdana, sans-serif;
						}
					}
				}
			}

			&.submit{
				.progress{
					$color: darken(gray, 20%);

					background-color: $color;
					position: relative;
					display: block;
					width: 100%;
					height: 1.5em;
					margin: 4pt 0 10pt;
					border-radius: 8pt;
					overflow: hidden;

					.bar{
						@include mixins.gradientBackground;

						width: var(--width);
						height: inherit;
						transition: width .3s ease-out;
					}

					.percentage{
						position: absolute;
						left: 50%;
						top: 0%;
						padding: 0;
						line-height: 1.5;
					}
				}
			}
		}
	}
}
